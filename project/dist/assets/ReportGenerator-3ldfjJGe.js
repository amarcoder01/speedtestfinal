import"./index-7GAF-Khw.js";import"./vendor-D9WDPr0V.js";import{E as $}from"./pdf-B77Uyblt.js";import"./ui-zUyJlMNv.js";const B=async(o,p)=>{try{const e=new $({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),i=e.internal.pageSize.getWidth(),d=e.internal.pageSize.getHeight(),t=15;e.setFillColor(59,130,246),e.rect(0,0,i,35,"F"),e.setFillColor(79,70,229),e.rect(i-35,0,35,35,"F"),e.setDrawColor(255,255,255),e.setLineWidth(.5),e.circle(25,17.5,7,"S"),e.line(32,17.5,37,17.5),e.setTextColor(255,255,255),e.setFont("helvetica","bold"),e.setFontSize(20),e.text("SpeedTest Pro Report",45,20),e.setFont("helvetica","normal"),e.setFontSize(10),e.text(`Generated on ${new Date(o.timestamp).toLocaleString()}`,45,27),e.setTextColor(0,0,0),e.setFont("helvetica","bold"),e.setFontSize(16),e.setTextColor(31,41,55),e.text("Test Results",t,45);const s=(i-t*3)/2,r=25,n=50;e.setFillColor(209,250,229),e.roundedRect(t,n,s,r,3,3,"F"),e.setTextColor(16,185,129),e.setFontSize(18),e.text(`${o.downloadSpeed.toFixed(1)} Mbps`,t+5,n+15),e.setTextColor(6,95,70),e.setFontSize(12),e.text("Download",t+5,n+8),e.setFillColor(219,234,254),e.roundedRect(t*2+s,n,s,r,3,3,"F"),e.setTextColor(37,99,235),e.setFontSize(18),e.text(`${o.uploadSpeed.toFixed(1)} Mbps`,t*2+s+5,n+15),e.setTextColor(30,58,138),e.setFontSize(12),e.text("Upload",t*2+s+5,n+8),e.setFillColor(254,226,226),e.roundedRect(t,n+r+5,s,r,3,3,"F"),e.setTextColor(220,38,38),e.setFontSize(18),e.text(`${o.ping.toFixed(0)} ms`,t+5,n+r+20),e.setTextColor(127,29,29),e.setFontSize(12),e.text("Ping",t+5,n+r+13),e.setFillColor(254,243,199),e.roundedRect(t*2+s,n+r+5,s,r,3,3,"F"),e.setTextColor(217,119,6),e.setFontSize(18),e.text(`${o.jitter.toFixed(1)} ms`,t*2+s+5,n+r+20),e.setTextColor(146,64,14),e.setFontSize(12),e.text("Jitter",t*2+s+5,n+r+13),e.setFillColor(243,244,246),e.roundedRect(t,n+r*2+15,i-t*2,35,3,3,"F"),e.setTextColor(31,41,55),e.setFont("helvetica","bold"),e.setFontSize(12),e.text("Additional Details",t+5,n+r*2+25),e.setFont("helvetica","normal"),e.setFontSize(10),e.setTextColor(75,85,99),[`Server Location: ${o.serverLocation}`,`Test Duration: ${o.testDuration.toFixed(1)} seconds`,`Test Date: ${new Date(o.timestamp).toLocaleDateString()}`,`User Location: ${o.userLocation.city}, ${o.userLocation.country}`].forEach((l,c)=>{e.text(l,t+5,n+r*2+35+c*8)}),e.setFont("helvetica","bold"),e.setFontSize(16),e.setTextColor(31,41,55),e.text("Performance Analysis",t,n+r*2+60);const a=n+r*2+65;let F=o.downloadSpeed>25?"#10B981":o.downloadSpeed>10?"#FBBF24":"#EF4444";e.setDrawColor(F),e.setLineWidth(.5),e.roundedRect(t,a,i-t*2,20,3,3,"S"),e.setTextColor(31,41,55),e.setFont("helvetica","normal"),e.setFontSize(10);const x=`Your download speed of ${o.downloadSpeed.toFixed(1)} Mbps is ${o.downloadSpeed>25?"excellent":o.downloadSpeed>10?"good":"below average"} for most online activities.`,S=e.splitTextToSize(x,i-t*2-10);e.text(S,t+5,a+10);let g=o.uploadSpeed>10?"#10B981":o.uploadSpeed>5?"#FBBF24":"#EF4444";e.setDrawColor(g),e.roundedRect(t,a+25,i-t*2,20,3,3,"S");const m=`Upload speed of ${o.uploadSpeed.toFixed(1)} Mbps is ${o.uploadSpeed>10?"excellent":o.uploadSpeed>5?"suitable":"limited"} for video conferencing and file sharing.`,C=e.splitTextToSize(m,i-t*2-10);e.text(C,t+5,a+35);let T=o.ping<20?"#10B981":o.ping<50?"#FBBF24":"#EF4444";e.setDrawColor(T),e.roundedRect(t,a+50,i-t*2,20,3,3,"S");const w=`Ping of ${o.ping.toFixed(0)}ms indicates ${o.ping<20?"excellent":o.ping<50?"good":"poor"} responsiveness for gaming and real-time applications.`,z=e.splitTextToSize(w,i-t*2-10);e.text(z,t+5,a+60);let h=o.jitter<5?"#10B981":o.jitter<15?"#FBBF24":"#EF4444";e.setDrawColor(h),e.roundedRect(t,a+75,i-t*2,20,3,3,"S");const b=`Jitter of ${o.jitter.toFixed(1)}ms indicates ${o.jitter<5?"excellent":o.jitter<15?"acceptable":"poor"} connection stability for streaming and video calls.`,f=e.splitTextToSize(b,i-t*2-10);if(e.text(f,t+5,a+85),e.setFillColor(243,244,246),e.rect(0,d-25,i,25,"F"),e.setTextColor(107,114,128),e.setFontSize(8),e.text("Generated by SpeedTest Pro - Privacy-focused speed testing",t,d-15),e.text("No personal data collected or stored",t,d-10),e.text(`Report ID: ${o.id}`,t,d-5),p)try{e.addImage(p,"PNG",i-35,d-35,25,25),e.setFontSize(7),e.text("Scan to view results",i-35,d-5)}catch(l){console.log("Error adding QR code to PDF",l)}else try{const l=document.querySelector(".bg-white.border.border-gray-200.rounded-lg img");if(l){const c=l.src;e.addImage(c,"PNG",i-35,d-35,25,25),e.setFontSize(7),e.text("Scan to view results",i-35,d-5)}}catch(l){console.log("QR code not available for PDF",l)}return e.save(`speedtest-report-${new Date().toISOString().split("T")[0]}.pdf`),!0}catch(e){throw console.error("Error generating PDF:",e),e}};export{B as generatePDFReport};
